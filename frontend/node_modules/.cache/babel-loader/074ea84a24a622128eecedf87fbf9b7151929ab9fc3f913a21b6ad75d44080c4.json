{"ast":null,"code":"// src/pages/LoginPage.jsx - VERSÃO REATORADA E SIMPLIFICADA\nimport{useState}from'react';import{Box,Button,Paper,TextField,Typography}from'@mui/material';import logoImage from'../assets/logo.png';import{useAuth}from'../hooks/useAuth';// Importamos o hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');// Usamos a função de login diretamente do nosso hook\nconst{login}=useAuth();const handleSubmit=async e=>{e.preventDefault();setError('');// A lógica complexa foi abstraída para dentro do hook\nconst success=await login(username,password);if(!success){setError('Usuário ou senha inválidos.');}};return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',backgroundColor:'#f0f2f5'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,width:'100%',maxWidth:'400px',display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Logo da Cl\\xEDnica Limal\\xE9\",style:{height:'80px'}})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Acesso ao Sistema\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1,width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,label:\"Nome de Usu\\xE1rio\",name:\"username\",autoComplete:\"username\",autoFocus:true,value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Senha\",type:\"password\",autoComplete:\"current-password\",value:password,onChange:e=>setPassword(e.target.value)}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",align:\"center\",sx:{mt:2},children:error}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Entrar\"})]})]})});}","map":{"version":3,"names":["useState","Box","Button","Paper","TextField","Typography","logoImage","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","username","setUsername","password","setPassword","error","setError","login","handleSubmit","e","preventDefault","success","sx","display","alignItems","justifyContent","minHeight","backgroundColor","children","elevation","p","width","maxWidth","flexDirection","mb","src","alt","style","height","component","variant","onSubmit","mt","margin","required","fullWidth","label","name","autoComplete","autoFocus","value","onChange","target","type","color","align"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["// src/pages/LoginPage.jsx - VERSÃO REATORADA E SIMPLIFICADA\n\nimport { useState } from 'react';\nimport { Box, Button, Paper, TextField, Typography } from '@mui/material';\nimport logoImage from '../assets/logo.png';\nimport { useAuth } from '../hooks/useAuth'; // Importamos o hook\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  \n  // Usamos a função de login diretamente do nosso hook\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    // A lógica complexa foi abstraída para dentro do hook\n    const success = await login(username, password);\n\n    if (!success) {\n      setError('Usuário ou senha inválidos.');\n    }\n  };\n\n  return (\n    <Box\n        sx={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            minHeight: '100vh',\n            backgroundColor: '#f0f2f5',\n        }}\n    >\n        <Paper elevation={3} sx={{ p: 4, width: '100%', maxWidth: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n            <Box sx={{ mb: 2 }}>\n                <img src={logoImage} alt=\"Logo da Clínica Limalé\" style={{ height: '80px' }} />\n            </Box>\n            <Typography component=\"h1\" variant=\"h5\">\n                Acesso ao Sistema\n            </Typography>\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1, width: '100%' }}>\n                <TextField\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    label=\"Nome de Usuário\"\n                    name=\"username\"\n                    autoComplete=\"username\"\n                    autoFocus\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                />\n                <TextField\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"password\"\n                    label=\"Senha\"\n                    type=\"password\"\n                    autoComplete=\"current-password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                {error && <Typography color=\"error\" align=\"center\" sx={{ mt: 2 }}>{error}</Typography>}\n                <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n                    Entrar\n                </Button>\n            </Box>\n        </Paper>\n    </Box>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}