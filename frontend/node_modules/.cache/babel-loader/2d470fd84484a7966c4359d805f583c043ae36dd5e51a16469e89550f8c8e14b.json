{"ast":null,"code":"import _objectSpread from\"/Users/macmini/Documents/Sistema_Consultorio/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/prontuario/AtendimentoGeral.jsx\nimport React,{useState}from'react';import{Box,Button,CircularProgress,Grid,TextField,Typography,Paper}from'@mui/material';import{useSnackbar}from'../../contexts/SnackbarContext';import apiClient from'../../api/axiosConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AtendimentoGeral(_ref){let{pacienteId,onEvolucaoSalva}=_ref;const[formData,setFormData]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const{showSnackbar}=useSnackbar();const handleChange=e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));};const handleSubmit=async event=>{event.preventDefault();setIsSubmitting(true);try{await apiClient.post(\"/prontuario/pacientes/\".concat(pacienteId,\"/evolucoes/\"),formData);showSnackbar('Evolução salva com sucesso!','success');setFormData({});if(onEvolucaoSalva)onEvolucaoSalva();}catch(error){showSnackbar('Erro ao salvar evolução.','error');}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(Paper,{component:\"form\",onSubmit:handleSubmit,sx:{p:2,height:'100%'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold'},children:\"Evolu\\xE7\\xE3o do Atendimento\"}),/*#__PURE__*/_jsx(TextField,{name:\"notas_subjetivas\",label:\"Subjetivo (Queixa, HDA)\",multiline:true,rows:4,fullWidth:true,value:formData.notas_subjetivas||'',onChange:handleChange,size:\"small\",sx:{mt:1}})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{name:\"notas_objetivas\",label:\"Objetivo (Exame F\\xEDsico)\",multiline:true,rows:4,fullWidth:true,value:formData.notas_objetivas||'',onChange:handleChange,size:\"small\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{name:\"avaliacao\",label:\"Avalia\\xE7\\xE3o / Hip\\xF3teses\",multiline:true,rows:3,fullWidth:true,value:formData.avaliacao||'',onChange:handleChange,size:\"small\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{name:\"plano\",label:\"Plano / Conduta\",multiline:true,rows:3,fullWidth:true,value:formData.plano||'',onChange:handleChange,size:\"small\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sx:{textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isSubmitting,size:\"small\",children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:20}):'Salvar Evolução'})})]})});}","map":{"version":3,"names":["React","useState","Box","Button","CircularProgress","Grid","TextField","Typography","Paper","useSnackbar","apiClient","jsx","_jsx","jsxs","_jsxs","AtendimentoGeral","_ref","pacienteId","onEvolucaoSalva","formData","setFormData","isSubmitting","setIsSubmitting","showSnackbar","handleChange","e","prev","_objectSpread","target","name","value","handleSubmit","event","preventDefault","post","concat","error","component","onSubmit","sx","p","height","children","container","spacing","item","xs","md","variant","fontWeight","label","multiline","rows","fullWidth","notas_subjetivas","onChange","size","mt","notas_objetivas","avaliacao","plano","textAlign","type","disabled"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/prontuario/AtendimentoGeral.jsx"],"sourcesContent":["// src/components/prontuario/AtendimentoGeral.jsx\n\nimport React, { useState } from 'react';\nimport { Box, Button, CircularProgress, Grid, TextField, Typography, Paper } from '@mui/material';\nimport { useSnackbar } from '../../contexts/SnackbarContext';\nimport apiClient from '../../api/axiosConfig';\n\nexport default function AtendimentoGeral({ pacienteId, onEvolucaoSalva }) {\n    const [formData, setFormData] = useState({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const { showSnackbar } = useSnackbar();\n\n    const handleChange = (e) => {\n        setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setIsSubmitting(true);\n        try {\n            await apiClient.post(`/prontuario/pacientes/${pacienteId}/evolucoes/`, formData);\n            showSnackbar('Evolução salva com sucesso!', 'success');\n            setFormData({}); \n            if(onEvolucaoSalva) onEvolucaoSalva();\n        } catch (error) {\n            showSnackbar('Erro ao salvar evolução.', 'error');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <Paper component=\"form\" onSubmit={handleSubmit} sx={{ p: 2, height: '100%' }}>\n            <Grid container spacing={2}>\n                <Grid item xs={12} md={6}>\n                    <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold' }}>Evolução do Atendimento</Typography>\n                    <TextField name=\"notas_subjetivas\" label=\"Subjetivo (Queixa, HDA)\" multiline rows={4} fullWidth value={formData.notas_subjetivas || ''} onChange={handleChange} size=\"small\" sx={{mt: 1}}/>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <TextField name=\"notas_objetivas\" label=\"Objetivo (Exame Físico)\" multiline rows={4} fullWidth value={formData.notas_objetivas || ''} onChange={handleChange} size=\"small\" />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <TextField name=\"avaliacao\" label=\"Avaliação / Hipóteses\" multiline rows={3} fullWidth value={formData.avaliacao || ''} onChange={handleChange} size=\"small\" />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <TextField name=\"plano\" label=\"Plano / Conduta\" multiline rows={3} fullWidth value={formData.plano || ''} onChange={handleChange} size=\"small\" />\n                </Grid>\n                <Grid item xs={12} sx={{ textAlign: 'right' }}>\n                    <Button type=\"submit\" variant=\"contained\" disabled={isSubmitting} size=\"small\">\n                        {isSubmitting ? <CircularProgress size={20} /> : 'Salvar Evolução'}\n                    </Button>\n                </Grid>\n            </Grid>\n        </Paper>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}