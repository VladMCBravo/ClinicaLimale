{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Typography,Paper,List,ListItem,ListItemIcon,ListItemText,CircularProgress,Tooltip}from'@mui/material';import{agendamentoService}from'../../services/agendamentoService';import HourglassEmptyIcon from'@mui/icons-material/HourglassEmpty';import CheckCircleIcon from'@mui/icons-material/CheckCircle';import CancelIcon from'@mui/icons-material/Cancel';import HelpOutlineIcon from'@mui/icons-material/HelpOutline';import StarIcon from'@mui/icons-material/Star';import EventNoteIcon from'@mui/icons-material/EventNote';import DoneIcon from'@mui/icons-material/Done';import PersonOffIcon from'@mui/icons-material/PersonOff';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const statusMap={'Agendado':{icon:/*#__PURE__*/_jsx(EventNoteIcon,{}),color:'info.main',title:'Agendado'},'Aguardando Pagamento':{icon:/*#__PURE__*/_jsx(HourglassEmptyIcon,{}),color:'warning.main',title:'Aguardando Pagamento'},'Confirmado':{icon:/*#__PURE__*/_jsx(CheckCircleIcon,{}),color:'success.main',title:'Confirmado'},'Cancelado':{icon:/*#__PURE__*/_jsx(CancelIcon,{}),color:'error.main',title:'Cancelado'},'Realizado':{icon:/*#__PURE__*/_jsx(DoneIcon,{}),color:'action.active',title:'Realizado'},'Não Compareceu':{icon:/*#__PURE__*/_jsx(PersonOffIcon,{}),color:'text.secondary',title:'Não Compareceu'}};// 1. Definimos a função do componente\nfunction PacientesDoDiaSidebar(_ref){let{refreshTrigger,medicoFiltro}=_ref;const[pacientes,setPacientes]=useState([]);const[isLoading,setIsLoading]=useState(true);const fetchPacientesDoDia=useCallback(async()=>{setIsLoading(true);try{const response=await agendamentoService.getAgendamentosHoje(medicoFiltro);const dadosOrdenados=response.data.sort((a,b)=>new Date(a.data_hora_inicio)-new Date(b.data_hora_inicio));setPacientes(dadosOrdenados);}catch(error){console.error(\"Erro ao buscar pacientes do dia:\",error);setPacientes([]);}finally{setIsLoading(false);}},[medicoFiltro]);useEffect(()=>{fetchPacientesDoDia();},[fetchPacientesDoDia,refreshTrigger,medicoFiltro]);return/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2,height:'100%',overflowY:'auto'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Pacientes do Dia\"}),isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24,sx:{display:'block',margin:'auto',mt:2}}):/*#__PURE__*/_jsx(List,{dense:true,children:pacientes.length>0?pacientes.map(ag=>{const statusInfo=statusMap[ag.status]||{icon:/*#__PURE__*/_jsx(HelpOutlineIcon,{}),color:'text.secondary',title:ag.status};return/*#__PURE__*/_jsxs(ListItem,{sx:{py:0.5},children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:32},children:/*#__PURE__*/_jsx(Tooltip,{title:statusInfo.title,children:/*#__PURE__*/React.cloneElement(statusInfo.icon,{sx:{color:statusInfo.color}})})}),/*#__PURE__*/_jsx(ListItemText,{primary:ag.paciente_nome,secondary:new Date(ag.data_hora_inicio).toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})}),ag.primeira_consulta&&/*#__PURE__*/_jsx(Tooltip,{title:\"Primeira Consulta\",children:/*#__PURE__*/_jsx(StarIcon,{sx:{color:'orange',fontSize:18}})})]},ag.id);}):/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Nenhum agendamento para hoje.\"})})})]});}// 2. Exportamos a versão \"memorizada\" do componente\nexport default/*#__PURE__*/React.memo(PacientesDoDiaSidebar);","map":{"version":3,"names":["React","useState","useEffect","useCallback","Typography","Paper","List","ListItem","ListItemIcon","ListItemText","CircularProgress","Tooltip","agendamentoService","HourglassEmptyIcon","CheckCircleIcon","CancelIcon","HelpOutlineIcon","StarIcon","EventNoteIcon","DoneIcon","PersonOffIcon","jsx","_jsx","jsxs","_jsxs","statusMap","icon","color","title","PacientesDoDiaSidebar","_ref","refreshTrigger","medicoFiltro","pacientes","setPacientes","isLoading","setIsLoading","fetchPacientesDoDia","response","getAgendamentosHoje","dadosOrdenados","data","sort","a","b","Date","data_hora_inicio","error","console","variant","sx","p","height","overflowY","children","gutterBottom","size","display","margin","mt","dense","length","map","ag","statusInfo","status","py","minWidth","cloneElement","primary","paciente_nome","secondary","toLocaleTimeString","hour","minute","primeira_consulta","fontSize","id","memo"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/agenda/PacientesDoDiaSidebar.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Typography, Paper, List, ListItem, ListItemIcon, ListItemText, CircularProgress, Tooltip } from '@mui/material';\nimport { agendamentoService } from '../../services/agendamentoService';\n\nimport HourglassEmptyIcon from '@mui/icons-material/HourglassEmpty';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport StarIcon from '@mui/icons-material/Star';\nimport EventNoteIcon from '@mui/icons-material/EventNote';\nimport DoneIcon from '@mui/icons-material/Done';\nimport PersonOffIcon from '@mui/icons-material/PersonOff';\n\nconst statusMap = {\n    'Agendado': { icon: <EventNoteIcon />, color: 'info.main', title: 'Agendado' },\n    'Aguardando Pagamento': { icon: <HourglassEmptyIcon />, color: 'warning.main', title: 'Aguardando Pagamento' },\n    'Confirmado': { icon: <CheckCircleIcon />, color: 'success.main', title: 'Confirmado' },\n    'Cancelado': { icon: <CancelIcon />, color: 'error.main', title: 'Cancelado' },\n    'Realizado': { icon: <DoneIcon />, color: 'action.active', title: 'Realizado' },\n    'Não Compareceu': { icon: <PersonOffIcon />, color: 'text.secondary', title: 'Não Compareceu' }\n};\n\n// 1. Definimos a função do componente\nfunction PacientesDoDiaSidebar({ refreshTrigger, medicoFiltro }) {\n    const [pacientes, setPacientes] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    const fetchPacientesDoDia = useCallback(async () => {\n        setIsLoading(true);\n        try {\n            const response = await agendamentoService.getAgendamentosHoje(medicoFiltro);\n            const dadosOrdenados = response.data.sort((a, b) => \n                new Date(a.data_hora_inicio) - new Date(b.data_hora_inicio)\n            );\n            setPacientes(dadosOrdenados);\n        } catch (error) {\n            console.error(\"Erro ao buscar pacientes do dia:\", error);\n            setPacientes([]);\n        } finally {\n            setIsLoading(false);\n        }\n    }, [medicoFiltro]);\n\n    useEffect(() => {\n        fetchPacientesDoDia();\n    }, [fetchPacientesDoDia, refreshTrigger, medicoFiltro]);\n\n    return (\n        <Paper variant=\"outlined\" sx={{ p: 2, height: '100%', overflowY: 'auto' }}>\n            <Typography variant=\"h6\" gutterBottom>Pacientes do Dia</Typography>\n            {isLoading ? <CircularProgress size={24} sx={{ display: 'block', margin: 'auto', mt: 2 }} /> : (\n                <List dense>\n                    {pacientes.length > 0 ? pacientes.map(ag => {\n                        const statusInfo = statusMap[ag.status] || { icon: <HelpOutlineIcon />, color: 'text.secondary', title: ag.status };\n                        return (\n                            <ListItem key={ag.id} sx={{ py: 0.5 }}>\n                                <ListItemIcon sx={{ minWidth: 32 }}>\n                                    <Tooltip title={statusInfo.title}>\n                                        {React.cloneElement(statusInfo.icon, { sx: { color: statusInfo.color } })}\n                                    </Tooltip>\n                                </ListItemIcon>\n                                <ListItemText \n                                    primary={ag.paciente_nome}\n                                    secondary={new Date(ag.data_hora_inicio).toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}\n                                />\n                                {ag.primeira_consulta && (\n                                    <Tooltip title=\"Primeira Consulta\">\n                                        <StarIcon sx={{ color: 'orange', fontSize: 18 }} />\n                                    </Tooltip>\n                                )}\n                            </ListItem>\n                        );\n                    }) : (\n                        <ListItem><ListItemText primary=\"Nenhum agendamento para hoje.\" /></ListItem>\n                    )}\n                </List>\n            )}\n        </Paper>\n    );\n}\n\n// 2. Exportamos a versão \"memorizada\" do componente\nexport default React.memo(PacientesDoDiaSidebar);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}