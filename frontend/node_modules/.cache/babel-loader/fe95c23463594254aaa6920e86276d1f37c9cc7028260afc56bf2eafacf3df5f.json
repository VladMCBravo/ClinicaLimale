{"ast":null,"code":"// src/components/financeiro/DashboardResumo.jsx\nimport React,{useState,useEffect}from'react';import{Grid,Paper,Typography,Box,CircularProgress,Card,CardContent}from'@mui/material';import{faturamentoService}from'../../services/faturamentoService';// Precisaremos adicionar a nova função aqui\nimport{useSnackbar}from'../../contexts/SnackbarContext';// Um componente simples para os cards de destaque\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatCard=_ref=>{let{title,value,color='text.primary'}=_ref;return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",gutterBottom:true,children:title}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",color:color,children:typeof value==='number'?\"R$ \".concat(value.toFixed(2)):'--'})]})});};export default function DashboardResumo(){const[data,setData]=useState(null);const[isLoading,setIsLoading]=useState(true);const{showSnackbar}=useSnackbar();useEffect(()=>{// Precisamos adicionar a chamada ao nosso faturamentoService\nfaturamentoService.getDashboardFinanceiro().then(response=>setData(response.data)).catch(()=>showSnackbar('Erro ao carregar o resumo financeiro.','error')).finally(()=>setIsLoading(false));},[showSnackbar]);if(isLoading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(!data)return null;return/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Resumo do Dia\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Saldo em Conta (Simulado)\",value:parseFloat(data.saldo_em_conta)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Faturamento do Dia\",value:data.faturamento_do_dia,color:\"success.main\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Despesas do Dia\",value:data.despesas_do_dia,color:\"error.main\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Lucro do Dia\",value:data.lucro_do_dia})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Grid","Paper","Typography","Box","CircularProgress","Card","CardContent","faturamentoService","useSnackbar","jsx","_jsx","jsxs","_jsxs","StatCard","_ref","title","value","color","children","gutterBottom","variant","component","concat","toFixed","DashboardResumo","data","setData","isLoading","setIsLoading","showSnackbar","getDashboardFinanceiro","then","response","catch","finally","sx","display","justifyContent","p","mb","container","spacing","item","xs","sm","md","parseFloat","saldo_em_conta","faturamento_do_dia","despesas_do_dia","lucro_do_dia"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/financeiro/DashboardResumo.jsx"],"sourcesContent":["// src/components/financeiro/DashboardResumo.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Paper, Typography, Box, CircularProgress, Card, CardContent } from '@mui/material';\nimport { faturamentoService } from '../../services/faturamentoService'; // Precisaremos adicionar a nova função aqui\nimport { useSnackbar } from '../../contexts/SnackbarContext';\n\n// Um componente simples para os cards de destaque\nconst StatCard = ({ title, value, color = 'text.primary' }) => (\n    <Card>\n        <CardContent>\n            <Typography color=\"text.secondary\" gutterBottom>{title}</Typography>\n            <Typography variant=\"h5\" component=\"div\" color={color}>\n                {typeof value === 'number' ? `R$ ${value.toFixed(2)}` : '--'}\n            </Typography>\n        </CardContent>\n    </Card>\n);\n\nexport default function DashboardResumo() {\n    const [data, setData] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const { showSnackbar } = useSnackbar();\n\n    useEffect(() => {\n        // Precisamos adicionar a chamada ao nosso faturamentoService\n        faturamentoService.getDashboardFinanceiro()\n            .then(response => setData(response.data))\n            .catch(() => showSnackbar('Erro ao carregar o resumo financeiro.', 'error'))\n            .finally(() => setIsLoading(false));\n    }, [showSnackbar]);\n\n    if (isLoading) {\n        return <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}><CircularProgress /></Box>;\n    }\n\n    if (!data) return null;\n\n    return (\n        <Box sx={{ mb: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>Resumo do Dia</Typography>\n            <Grid container spacing={3}>\n                <Grid item xs={12} sm={6} md={3}>\n                    <StatCard title=\"Saldo em Conta (Simulado)\" value={parseFloat(data.saldo_em_conta)} />\n                </Grid>\n                <Grid item xs={12} sm={6} md={3}>\n                    <StatCard title=\"Faturamento do Dia\" value={data.faturamento_do_dia} color=\"success.main\" />\n                </Grid>\n                <Grid item xs={12} sm={6} md={3}>\n                    <StatCard title=\"Despesas do Dia\" value={data.despesas_do_dia} color=\"error.main\" />\n                </Grid>\n                <Grid item xs={12} sm={6} md={3}>\n                    <StatCard title=\"Lucro do Dia\" value={data.lucro_do_dia} />\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}