{"ast":null,"code":"// src/components/PatientHeader.jsx - VERSÃO CORRETA E FINAL\nimport React from'react';import{Box,Typography,Button}from'@mui/material';import VideocamIcon from'@mui/icons-material/Videocam';// O componente recebe 'paciente', 'agendamento' e a função 'onStartTelemedicina'\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientHeader(_ref){let{paciente,agendamento,onStartTelemedicina}=_ref;if(!paciente){return/*#__PURE__*/_jsx(Box,{sx:{p:2,borderBottom:'1px solid #eee'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Carregando...\"})});}const isTelemedicina=(agendamento===null||agendamento===void 0?void 0:agendamento.modalidade)==='Telemedicina';const calcularIdade=dataNascimento=>{if(!dataNascimento)return'N/A';const hoje=new Date();const nascimento=new Date(dataNascimento);let idade=hoje.getFullYear()-nascimento.getFullYear();const m=hoje.getMonth()-nascimento.getMonth();if(m<0||m===0&&hoje.getDate()<nascimento.getDate()){idade--;}return idade;};return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',p:2,borderBottom:'1px solid #eee'},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:paciente.nome_completo}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Idade: \",calcularIdade(paciente.data_nascimento),\" anos  |  Peso: \",paciente.peso||'N/A',\" kg  |  Altura: \",paciente.altura||'N/A',\" m\"]})]}),isTelemedicina&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(VideocamIcon,{}),onClick:onStartTelemedicina,children:\"Iniciar Telemedicina\"})]});}","map":{"version":3,"names":["React","Box","Typography","Button","VideocamIcon","jsx","_jsx","jsxs","_jsxs","PatientHeader","_ref","paciente","agendamento","onStartTelemedicina","sx","p","borderBottom","children","variant","isTelemedicina","modalidade","calcularIdade","dataNascimento","hoje","Date","nascimento","idade","getFullYear","m","getMonth","getDate","display","justifyContent","alignItems","nome_completo","color","data_nascimento","peso","altura","startIcon","onClick"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/PatientHeader.jsx"],"sourcesContent":["// src/components/PatientHeader.jsx - VERSÃO CORRETA E FINAL\n\nimport React from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport VideocamIcon from '@mui/icons-material/Videocam';\n\n// O componente recebe 'paciente', 'agendamento' e a função 'onStartTelemedicina'\nexport default function PatientHeader({ paciente, agendamento, onStartTelemedicina }) {\n    if (!paciente) {\n        return (\n            <Box sx={{ p: 2, borderBottom: '1px solid #eee' }}>\n                <Typography variant=\"h5\">Carregando...</Typography>\n            </Box>\n        );\n    }\n\n    const isTelemedicina = agendamento?.modalidade === 'Telemedicina';\n\n    const calcularIdade = (dataNascimento) => {\n        if (!dataNascimento) return 'N/A';\n        const hoje = new Date();\n        const nascimento = new Date(dataNascimento);\n        let idade = hoje.getFullYear() - nascimento.getFullYear();\n        const m = hoje.getMonth() - nascimento.getMonth();\n        if (m < 0 || (m === 0 && hoje.getDate() < nascimento.getDate())) {\n            idade--;\n        }\n        return idade;\n    };\n\n    return (\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', p: 2, borderBottom: '1px solid #eee' }}>\n            <Box>\n                <Typography variant=\"h5\">{paciente.nome_completo}</Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                    Idade: {calcularIdade(paciente.data_nascimento)} anos  |  Peso: {paciente.peso || 'N/A'} kg  |  Altura: {paciente.altura || 'N/A'} m\n                </Typography>\n            </Box>\n            \n            {/* O botão de Telemedicina só aparece se o agendamento for dessa modalidade */}\n            {isTelemedicina && (\n                <Button \n                    variant=\"contained\" \n                    startIcon={<VideocamIcon />}\n                    onClick={onStartTelemedicina}\n                >\n                    Iniciar Telemedicina\n                </Button>\n            )}\n        </Box>\n    );\n}"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,GAAG,CAAEC,UAAU,CAAEC,MAAM,KAAQ,eAAe,CACvD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CAEvD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAiD,IAAhD,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,mBAAoB,CAAC,CAAAH,IAAA,CAChF,GAAI,CAACC,QAAQ,CAAE,CACX,mBACIL,IAAA,CAACL,GAAG,EAACa,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEC,YAAY,CAAE,gBAAiB,CAAE,CAAAC,QAAA,cAC9CX,IAAA,CAACJ,UAAU,EAACgB,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,eAAa,CAAY,CAAC,CAClD,CAAC,CAEd,CAEA,KAAM,CAAAE,cAAc,CAAG,CAAAP,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEQ,UAAU,IAAK,cAAc,CAEjE,KAAM,CAAAC,aAAa,CAAIC,cAAc,EAAK,CACtC,GAAI,CAACA,cAAc,CAAE,MAAO,KAAK,CACjC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACvB,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAD,IAAI,CAACF,cAAc,CAAC,CAC3C,GAAI,CAAAI,KAAK,CAAGH,IAAI,CAACI,WAAW,CAAC,CAAC,CAAGF,UAAU,CAACE,WAAW,CAAC,CAAC,CACzD,KAAM,CAAAC,CAAC,CAAGL,IAAI,CAACM,QAAQ,CAAC,CAAC,CAAGJ,UAAU,CAACI,QAAQ,CAAC,CAAC,CACjD,GAAID,CAAC,CAAG,CAAC,EAAKA,CAAC,GAAK,CAAC,EAAIL,IAAI,CAACO,OAAO,CAAC,CAAC,CAAGL,UAAU,CAACK,OAAO,CAAC,CAAE,CAAE,CAC7DJ,KAAK,EAAE,CACX,CACA,MAAO,CAAAA,KAAK,CAChB,CAAC,CAED,mBACIlB,KAAA,CAACP,GAAG,EAACa,EAAE,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAElB,CAAC,CAAE,CAAC,CAAEC,YAAY,CAAE,gBAAiB,CAAE,CAAAC,QAAA,eACtHT,KAAA,CAACP,GAAG,EAAAgB,QAAA,eACAX,IAAA,CAACJ,UAAU,EAACgB,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAEN,QAAQ,CAACuB,aAAa,CAAa,CAAC,cAC9D1B,KAAA,CAACN,UAAU,EAACgB,OAAO,CAAC,OAAO,CAACiB,KAAK,CAAC,gBAAgB,CAAAlB,QAAA,EAAC,SACxC,CAACI,aAAa,CAACV,QAAQ,CAACyB,eAAe,CAAC,CAAC,kBAAgB,CAACzB,QAAQ,CAAC0B,IAAI,EAAI,KAAK,CAAC,kBAAgB,CAAC1B,QAAQ,CAAC2B,MAAM,EAAI,KAAK,CAAC,IACtI,EAAY,CAAC,EACZ,CAAC,CAGLnB,cAAc,eACXb,IAAA,CAACH,MAAM,EACHe,OAAO,CAAC,WAAW,CACnBqB,SAAS,cAAEjC,IAAA,CAACF,YAAY,GAAE,CAAE,CAC5BoC,OAAO,CAAE3B,mBAAoB,CAAAI,QAAA,CAChC,sBAED,CAAQ,CACX,EACA,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}