{"ast":null,"code":"// src/components/painel/ListaEspera.jsx\nimport React,{useState,useEffect}from'react';import{Box,Paper,Typography,List,ListItem,ListItemButton,ListItemIcon,ListItemText,CircularProgress,Divider}from'@mui/material';import EventBusyIcon from'@mui/icons-material/EventBusy';import{agendamentoService}from'../../services/agendamentoService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListaEspera(_ref){let{onAgendamentoSelect,refreshTrigger}=_ref;const[lista,setLista]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{setIsLoading(true);agendamentoService.getListaEspera().then(response=>{setLista(response.data);}).catch(error=>{console.error(\"Erro ao buscar lista de espera:\",error);setLista([]);// Limpa a lista em caso de erro\n}).finally(()=>{setIsLoading(false);});},[refreshTrigger]);// Atualiza a lista quando o refreshTrigger mudar\nreturn/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2,height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Lista de Espera\"}),/*#__PURE__*/_jsx(Divider,{sx:{mb:1}}),isLoading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',flexGrow:1},children:/*#__PURE__*/_jsx(CircularProgress,{size:24})}):/*#__PURE__*/_jsx(Box,{sx:{overflowY:'auto',flexGrow:1},children:lista.length>0?/*#__PURE__*/_jsx(List,{dense:true,children:lista.map(ag=>/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:()=>onAgendamentoSelect(ag),children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:32},children:/*#__PURE__*/_jsx(EventBusyIcon,{color:\"warning\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:ag.paciente_nome,secondary:\"Para: \".concat(new Date(ag.data_hora_inicio).toLocaleDateString('pt-BR'),\" \\xE0s \").concat(new Date(ag.data_hora_inicio).toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'}))})]})},ag.id))}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{textAlign:'center',mt:2,color:'text.secondary'},children:\"Nenhum paciente aguardando no momento.\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","Box","Paper","Typography","List","ListItem","ListItemButton","ListItemIcon","ListItemText","CircularProgress","Divider","EventBusyIcon","agendamentoService","jsx","_jsx","jsxs","_jsxs","ListaEspera","_ref","onAgendamentoSelect","refreshTrigger","lista","setLista","isLoading","setIsLoading","getListaEspera","then","response","data","catch","error","console","finally","variant","sx","p","height","display","flexDirection","children","gutterBottom","mb","justifyContent","alignItems","flexGrow","size","overflowY","length","dense","map","ag","disablePadding","onClick","minWidth","color","primary","paciente_nome","secondary","concat","Date","data_hora_inicio","toLocaleDateString","toLocaleTimeString","hour","minute","id","textAlign","mt"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/painel/ListaEspera.jsx"],"sourcesContent":["// src/components/painel/ListaEspera.jsx\nimport React, { useState, useEffect } from 'react';\nimport {\n    Box, Paper, Typography, List, ListItem, ListItemButton,\n    ListItemIcon, ListItemText, CircularProgress, Divider\n} from '@mui/material';\nimport EventBusyIcon from '@mui/icons-material/EventBusy';\nimport { agendamentoService } from '../../services/agendamentoService';\n\nexport default function ListaEspera({ onAgendamentoSelect, refreshTrigger }) {\n    const [lista, setLista] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        setIsLoading(true);\n        agendamentoService.getListaEspera()\n            .then(response => {\n                setLista(response.data);\n            })\n            .catch(error => {\n                console.error(\"Erro ao buscar lista de espera:\", error);\n                setLista([]); // Limpa a lista em caso de erro\n            })\n            .finally(() => {\n                setIsLoading(false);\n            });\n    }, [refreshTrigger]); // Atualiza a lista quando o refreshTrigger mudar\n\n    return (\n        <Paper variant=\"outlined\" sx={{ p: 2, height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <Typography variant=\"h6\" gutterBottom>Lista de Espera</Typography>\n            <Divider sx={{ mb: 1 }} />\n            {isLoading ? (\n                <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexGrow: 1 }}>\n                    <CircularProgress size={24} />\n                </Box>\n            ) : (\n                <Box sx={{ overflowY: 'auto', flexGrow: 1 }}>\n                    {lista.length > 0 ? (\n                        <List dense>\n                            {lista.map(ag => (\n                                <ListItem key={ag.id} disablePadding>\n                                    <ListItemButton onClick={() => onAgendamentoSelect(ag)}>\n                                        <ListItemIcon sx={{ minWidth: 32 }}>\n                                            <EventBusyIcon color=\"warning\" />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            primary={ag.paciente_nome}\n                                            secondary={`Para: ${new Date(ag.data_hora_inicio).toLocaleDateString('pt-BR')} Ã s ${new Date(ag.data_hora_inicio).toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}`}\n                                        />\n                                    </ListItemButton>\n                                </ListItem>\n                            ))}\n                        </List>\n                    ) : (\n                        <Typography variant=\"body2\" sx={{ textAlign: 'center', mt: 2, color: 'text.secondary' }}>\n                            Nenhum paciente aguardando no momento.\n                        </Typography>\n                    )}\n                </Box>\n            )}\n        </Paper>\n    );\n}"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACIC,GAAG,CAAEC,KAAK,CAAEC,UAAU,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,cAAc,CACtDC,YAAY,CAAEC,YAAY,CAAEC,gBAAgB,CAAEC,OAAO,KAClD,eAAe,CACtB,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,OAASC,kBAAkB,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvE,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA0C,IAAzC,CAAEC,mBAAmB,CAAEC,cAAe,CAAC,CAAAF,IAAA,CACvE,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACwB,SAAS,CAAEC,YAAY,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACZwB,YAAY,CAAC,IAAI,CAAC,CAClBZ,kBAAkB,CAACa,cAAc,CAAC,CAAC,CAC9BC,IAAI,CAACC,QAAQ,EAAI,CACdL,QAAQ,CAACK,QAAQ,CAACC,IAAI,CAAC,CAC3B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvDR,QAAQ,CAAC,EAAE,CAAC,CAAE;AAClB,CAAC,CAAC,CACDU,OAAO,CAAC,IAAM,CACXR,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,CAAE,CAACJ,cAAc,CAAC,CAAC,CAAE;AAEtB,mBACIJ,KAAA,CAACd,KAAK,EAAC+B,OAAO,CAAC,UAAU,CAACC,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEC,MAAM,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAC,QAAA,eAC7FzB,IAAA,CAACX,UAAU,EAAC8B,OAAO,CAAC,IAAI,CAACO,YAAY,MAAAD,QAAA,CAAC,iBAAe,CAAY,CAAC,cAClEzB,IAAA,CAACJ,OAAO,EAACwB,EAAE,CAAE,CAAEO,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,CACzBlB,SAAS,cACNT,IAAA,CAACb,GAAG,EAACiC,EAAE,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEK,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,QAAQ,CAAE,CAAE,CAAE,CAAAL,QAAA,cACtFzB,IAAA,CAACL,gBAAgB,EAACoC,IAAI,CAAE,EAAG,CAAE,CAAC,CAC7B,CAAC,cAEN/B,IAAA,CAACb,GAAG,EAACiC,EAAE,CAAE,CAAEY,SAAS,CAAE,MAAM,CAAEF,QAAQ,CAAE,CAAE,CAAE,CAAAL,QAAA,CACvClB,KAAK,CAAC0B,MAAM,CAAG,CAAC,cACbjC,IAAA,CAACV,IAAI,EAAC4C,KAAK,MAAAT,QAAA,CACNlB,KAAK,CAAC4B,GAAG,CAACC,EAAE,eACTpC,IAAA,CAACT,QAAQ,EAAa8C,cAAc,MAAAZ,QAAA,cAChCvB,KAAA,CAACV,cAAc,EAAC8C,OAAO,CAAEA,CAAA,GAAMjC,mBAAmB,CAAC+B,EAAE,CAAE,CAAAX,QAAA,eACnDzB,IAAA,CAACP,YAAY,EAAC2B,EAAE,CAAE,CAAEmB,QAAQ,CAAE,EAAG,CAAE,CAAAd,QAAA,cAC/BzB,IAAA,CAACH,aAAa,EAAC2C,KAAK,CAAC,SAAS,CAAE,CAAC,CACvB,CAAC,cACfxC,IAAA,CAACN,YAAY,EACT+C,OAAO,CAAEL,EAAE,CAACM,aAAc,CAC1BC,SAAS,UAAAC,MAAA,CAAW,GAAI,CAAAC,IAAI,CAACT,EAAE,CAACU,gBAAgB,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC,YAAAH,MAAA,CAAO,GAAI,CAAAC,IAAI,CAACT,EAAE,CAACU,gBAAgB,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAAG,CAC3L,CAAC,EACU,CAAC,EATNd,EAAE,CAACe,EAUR,CACb,CAAC,CACA,CAAC,cAEPnD,IAAA,CAACX,UAAU,EAAC8B,OAAO,CAAC,OAAO,CAACC,EAAE,CAAE,CAAEgC,SAAS,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAC,CAAEb,KAAK,CAAE,gBAAiB,CAAE,CAAAf,QAAA,CAAC,wCAEzF,CAAY,CACf,CACA,CACR,EACE,CAAC,CAEhB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}