{"ast":null,"code":"// src/components/Navbar.jsx - VERSÃO COM LÓGICA DE PERMISSÃO PRECISA\nimport React from'react';import{NavLink,Link}from'react-router-dom';import{useAuth}from'../hooks/useAuth';import{FaCalendarAlt,FaUserFriends,FaFileInvoiceDollar,FaCog,FaSignOutAlt,FaTachometerAlt,FaVideo,FaStethoscope// Adicionamos o novo ícone aqui\n}from'react-icons/fa';import{IconButton}from'@mui/material';import logoImage from'../assets/logo.png';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout}=useAuth();// Função auxiliar para criar o link principal dinâmico\nconst renderPrincipalLink=()=>{// Se for recepção ou admin, o link principal é \"Painel\"\nif(user.isRecepcao||user.isAdmin){return/*#__PURE__*/_jsxs(NavLink,{to:\"/painel\",children:[/*#__PURE__*/_jsx(FaTachometerAlt,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Painel\"})]});}// Se for médico, o link principal é \"Atendimento\"\nif(user.isMedico){return/*#__PURE__*/_jsxs(NavLink,{to:\"/\",end:true,children:[/*#__PURE__*/_jsx(FaStethoscope,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Atendimento\"})]});}// Fallback para outros cargos (se houver)\nreturn null;};// NOVA FUNÇÃO PARA FORMATAR A SAUDAÇÃO\nconst formatarSaudacao=user=>{if(user.isMedico){if(user.genero==='F'){return'Dra.';}if(user.genero==='M'){return'Dr.';}// Fallback caso o gênero não esteja definido\nreturn'Dr(a).';}// Para outros cargos, não adiciona título\nreturn'';};return/*#__PURE__*/_jsxs(\"header\",{className:\"main-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Cl\\xEDnica Limal\\xE9\",className:\"logo-image\"}),user&&/*#__PURE__*/_jsxs(\"nav\",{className:\"main-nav\",children:[renderPrincipalLink(),/*#__PURE__*/_jsxs(NavLink,{to:\"/telemedicina\",children:[/*#__PURE__*/_jsx(FaVideo,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Telemedicina\"})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/pacientes\",children:[/*#__PURE__*/_jsx(FaUserFriends,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Pacientes\"})]}),(user.isAdmin||user.isRecepcao)&&/*#__PURE__*/_jsxs(NavLink,{to:\"/financeiro\",children:[/*#__PURE__*/_jsx(FaFileInvoiceDollar,{}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Financeiro\"})]})]})]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"nav-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"user-greeting\",children:[\"Ol\\xE1, \",formatarSaudacao(user),\" \",user.first_name||'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-actions\",children:[user.isAdmin&&/*#__PURE__*/_jsx(IconButton,{component:Link,to:\"/configuracoes\",title:\"Configura\\xE7\\xF5es\",className:\"icon-button\",sx:{color:'#ffffff'},children:/*#__PURE__*/_jsx(FaCog,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:logout,className:\"icon-button\",title:\"Sair\",sx:{color:'#ffffff'},children:/*#__PURE__*/_jsx(FaSignOutAlt,{})})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","NavLink","Link","useAuth","FaCalendarAlt","FaUserFriends","FaFileInvoiceDollar","FaCog","FaSignOutAlt","FaTachometerAlt","FaVideo","FaStethoscope","IconButton","logoImage","jsx","_jsx","jsxs","_jsxs","Navbar","user","logout","renderPrincipalLink","isRecepcao","isAdmin","to","children","isMedico","end","formatarSaudacao","genero","className","src","alt","first_name","component","title","sx","color","onClick"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/Navbar.js"],"sourcesContent":["// src/components/Navbar.jsx - VERSÃO COM LÓGICA DE PERMISSÃO PRECISA\n\nimport React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\nimport {\n    FaCalendarAlt,\n    FaUserFriends,\n    FaFileInvoiceDollar,\n    FaCog,\n    FaSignOutAlt,\n    FaTachometerAlt,\n    FaVideo,\n    FaStethoscope // Adicionamos o novo ícone aqui\n} from 'react-icons/fa';\nimport { IconButton } from '@mui/material';\nimport logoImage from '../assets/logo.png';\nimport './Navbar.css';\n\nconst Navbar = () => {\n    const { user, logout } = useAuth();\n\n    // Função auxiliar para criar o link principal dinâmico\n    const renderPrincipalLink = () => {\n        // Se for recepção ou admin, o link principal é \"Painel\"\n        if (user.isRecepcao || user.isAdmin) {\n            return (\n                <NavLink to=\"/painel\">\n                    <FaTachometerAlt /> <span>Painel</span>\n                </NavLink>\n            );\n        }\n        // Se for médico, o link principal é \"Atendimento\"\n        if (user.isMedico) {\n            return (\n                <NavLink to=\"/\" end>\n                    <FaStethoscope /> <span>Atendimento</span>\n                </NavLink>\n            );\n        }\n        // Fallback para outros cargos (se houver)\n        return null;\n    };\n    // NOVA FUNÇÃO PARA FORMATAR A SAUDAÇÃO\n    const formatarSaudacao = (user) => {\n        if (user.isMedico) {\n            if (user.genero === 'F') {\n                return 'Dra.';\n            }\n            if (user.genero === 'M') {\n                return 'Dr.';\n            }\n            // Fallback caso o gênero não esteja definido\n            return 'Dr(a).';\n        }\n        // Para outros cargos, não adiciona título\n        return '';\n    };\n    return (\n        <header className=\"main-header\">\n            <div className=\"nav-left\">\n                <img src={logoImage} alt=\"Clínica Limalé\" className=\"logo-image\" />\n\n                {user && (\n                    <nav className=\"main-nav\">\n                        {/* RENDERIZA O LINK PRINCIPAL DINAMICAMENTE */}\n                        {renderPrincipalLink()}\n\n                        {/* Telemedicina (Todos) */}\n                        <NavLink to=\"/telemedicina\">\n                            <FaVideo /> <span>Telemedicina</span>\n                        </NavLink>\n                        \n                        {/* Pacientes (Todos) */}\n                        <NavLink to=\"/pacientes\">\n                            <FaUserFriends /> <span>Pacientes</span>\n                        </NavLink>\n\n                        {/* Financeiro (Apenas Admin e Recepção) */}\n                        {(user.isAdmin || user.isRecepcao) && (\n                            <NavLink to=\"/financeiro\">\n                                <FaFileInvoiceDollar /> <span>Financeiro</span>\n                            </NavLink>\n                        )}\n                    </nav>\n                )}\n            </div>\n\n            {user && (\n                <div className=\"nav-right\">\n    <span className=\"user-greeting\">\n        Olá, {formatarSaudacao(user)} {user.first_name || ''}\n    </span>\n    <div className=\"user-actions\">\n        {/* Ícone de Configurações visível APENAS PARA ADMIN */}\n        {user.isAdmin && (\n            <IconButton component={Link} to=\"/configuracoes\" title=\"Configurações\" className=\"icon-button\" sx={{ color: '#ffffff' }}>\n                <FaCog />\n            </IconButton>\n        )}\n\n        <IconButton onClick={logout} className=\"icon-button\" title=\"Sair\" sx={{ color: '#ffffff' }}>\n            <FaSignOutAlt />\n        </IconButton>\n    </div>\n</div>\n            )}\n        </header>\n    );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}