{"ast":null,"code":"// src/components/configuracoes/CategoriaDespesaModal.jsx\nimport React,{useState,useEffect}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,Button,CircularProgress}from'@mui/material';import apiClient from'../../api/axiosConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CategoriaDespesaModal(_ref){let{open,onClose,onSave,categoriaParaEditar}=_ref;const[nome,setNome]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);useEffect(()=>{if(categoriaParaEditar){setNome(categoriaParaEditar.nome);}else{setNome('');}},[categoriaParaEditar,open]);const handleSubmit=async e=>{e.preventDefault();setIsSubmitting(true);const data={nome};try{if(categoriaParaEditar){await apiClient.put(\"/faturamento/categorias-despesa/\".concat(categoriaParaEditar.id,\"/\"),data);}else{await apiClient.post('/faturamento/categorias-despesa/',data);}onSave();onClose();}catch(error){var _error$response;console.error(\"Erro ao salvar categoria:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:onClose,fullWidth:true,maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:categoriaParaEditar?'Editar Categoria':'Nova Categoria'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",label:\"Nome da Categoria\",type:\"text\",fullWidth:true,variant:\"outlined\",value:nome,onChange:e=>setNome(e.target.value),required:true})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Salvar'})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","CircularProgress","apiClient","jsx","_jsx","jsxs","_jsxs","CategoriaDespesaModal","_ref","open","onClose","onSave","categoriaParaEditar","nome","setNome","isSubmitting","setIsSubmitting","handleSubmit","e","preventDefault","data","put","concat","id","post","error","_error$response","console","response","fullWidth","maxWidth","children","onSubmit","autoFocus","margin","label","type","variant","value","onChange","target","required","onClick","disabled","size"],"sources":["/Users/macmini/Documents/Sistema_Consultorio/frontend/src/components/configuracoes/CategoriaDespesaModal.jsx"],"sourcesContent":["// src/components/configuracoes/CategoriaDespesaModal.jsx\nimport React, { useState, useEffect } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, TextField, Button, CircularProgress } from '@mui/material';\nimport apiClient from '../../api/axiosConfig';\n\nexport default function CategoriaDespesaModal({ open, onClose, onSave, categoriaParaEditar }) {\n    const [nome, setNome] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    useEffect(() => {\n        if (categoriaParaEditar) {\n            setNome(categoriaParaEditar.nome);\n        } else {\n            setNome('');\n        }\n    }, [categoriaParaEditar, open]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsSubmitting(true);\n        const data = { nome };\n        try {\n            if (categoriaParaEditar) {\n                await apiClient.put(`/faturamento/categorias-despesa/${categoriaParaEditar.id}/`, data);\n            } else {\n                await apiClient.post('/faturamento/categorias-despesa/', data);\n            }\n            onSave();\n            onClose();\n        } catch (error) {\n            console.error(\"Erro ao salvar categoria:\", error.response?.data);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"xs\">\n            <DialogTitle>{categoriaParaEditar ? 'Editar Categoria' : 'Nova Categoria'}</DialogTitle>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <TextField autoFocus margin=\"dense\" label=\"Nome da Categoria\" type=\"text\" fullWidth variant=\"outlined\" value={nome} onChange={(e) => setNome(e.target.value)} required />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onClose}>Cancelar</Button>\n                    <Button type=\"submit\" variant=\"contained\" disabled={isSubmitting}>\n                        {isSubmitting ? <CircularProgress size={24} /> : 'Salvar'}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}